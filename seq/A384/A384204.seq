%I A384204 #28 Oct 03 2025 17:38:25
%S A384204 1,1,1,1,1,0,1,1,1,0,1,1,1,0,0,1,1,1,1,1,0,0,1,0,1,0,1,1,1,0,1,1,0,0,
%T A384204 0,2,1,0,0,0,1,0,1,1,1,0,1,1,1,1,0,1,1,0,0,0,0,0,1,0,1,0,1,1,0,0,1,1,
%U A384204 0,0,1,2,1,0,1,1,0,0,1,1,1,0,1,0,0,0,0,0
%N A384204 a(n) is the number of palindromic permutations of the prime factors of n (counted with multiplicity).
%C A384204 a(m) = 0 if and only if, in the canonical prime factorization of m, more than one prime has an odd exponent. Equivalently, a(m) > 0 if and only if m is either a perfect square or the product of a perfect square and a prime. A265640 gives the numbers m for which a(m) > 0.
%H A384204 Felix Huber, <a href="/A384204/b384204.txt">Table of n, a(n) for n = 1..10000</a>
%F A384204 a(q*s^2) = a(s^2) = (Sum_{i=1..k} e_i)!/(Product_{i=1..k} e_i!), where q is prime, s is a positive integer and p_1^e_1*...*p_k^e_k is the canonical prime factorization of s.
%F A384204 a(m) = 0 if m is not of the form q*s^2 or s^2.
%e A384204 a(1) = 1 because 1 has an empty factorization, [], which also is a palindrome.
%e A384204 a(72) = a(36) = 2 because 72 = 2*3*2*3*2 = 3*2*2*2*3 and 36 = 2*3*3*2 = 3*2*2*3.
%e A384204 a(144) = 3 because 144 = 2*2*3*3*2*2 = 2*3*2*2*3*2 = 3*2*2*2*2*3.
%e A384204 a(169) = 1 because 169 = 13*13.
%p A384204 A384204:=proc(n)
%p A384204     local i,l;
%p A384204     l:=[seq(i[2],i in ifactors(n)[2])];
%p A384204     if nops(select(x->x mod 2<>0,l))>1 then
%p A384204         0
%p A384204     else
%p A384204         l:=map(x->floor(x/2),l);
%p A384204         return add(l)!/(mul(i!,i in l))
%p A384204     fi;
%p A384204 end proc;
%p A384204 seq(A384204(n),n=1..88);
%Y A384204 Cf. A242414, A265640, A388859.
%K A384204 nonn,easy
%O A384204 1,36
%A A384204 _Felix Huber_, Sep 28 2025
