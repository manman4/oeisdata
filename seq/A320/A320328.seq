%I A320328 #12 Oct 12 2025 11:14:02
%S A320328 1,1,2,3,6,11,20,36,65,117,214,382,679,1199,2095,3656,6321,10917,
%T A320328 18721,32015,54385,92040,154882,259662,433263,720399,1193046,1969475,
%U A320328 3239490,5312015,8681695,14145799,22977171,37212996,60092265,96769448,155409294,248934037,397735789
%N A320328 Number of square multiset partitions of integer partitions of n.
%C A320328 A multiset partition is square if its length is equal to its number of distinct atoms.
%e A320328 The a(1) = 1 through a(6) = 20 square partitions:
%e A320328   {{1}}  {{2}}    {{3}}      {{4}}        {{5}}          {{6}}
%e A320328          {{1,1}}  {{1,1,1}}  {{2,2}}      {{1},{4}}      {{3,3}}
%e A320328                   {{1},{2}}  {{1},{3}}    {{2},{3}}      {{1},{5}}
%e A320328                              {{1,1,1,1}}  {{1},{1,3}}    {{2,2,2}}
%e A320328                              {{1},{1,2}}  {{1},{2,2}}    {{2},{4}}
%e A320328                              {{2},{1,1}}  {{2},{1,2}}    {{1},{1,4}}
%e A320328                                           {{3},{1,1}}    {{4},{1,1}}
%e A320328                                           {{1,1,1,1,1}}  {{1},{1,1,3}}
%e A320328                                           {{1},{1,1,2}}  {{1,1},{1,3}}
%e A320328                                           {{1,1},{1,2}}  {{1},{1,2,2}}
%e A320328                                           {{2},{1,1,1}}  {{1,1},{2,2}}
%e A320328                                                          {{1,2},{1,2}}
%e A320328                                                          {{1},{2},{3}}
%e A320328                                                          {{2},{1,1,2}}
%e A320328                                                          {{3},{1,1,1}}
%e A320328                                                          {{1,1,1,1,1,1}}
%e A320328                                                          {{1},{1,1,1,2}}
%e A320328                                                          {{1,1},{1,1,2}}
%e A320328                                                          {{1,2},{1,1,1}}
%e A320328                                                          {{2},{1,1,1,1}}
%t A320328 sps[{}]:={{}};sps[set:{i_,___}]:=Join@@Function[s,Prepend[#,s]&/@sps[Complement[set,s]]]/@Cases[Subsets[set],{i,___}];
%t A320328 mps[set_]:=Union[Sort[Sort/@(#/.x_Integer:>set[[x]])]&/@sps[Range[Length[set]]]];
%t A320328 Table[Length[Select[Join@@mps/@IntegerPartitions[n],Length[#]==Length[Union@@#]&]],{n,8}]
%o A320328 (Python)
%o A320328 from itertools import groupby
%o A320328 from sympy.combinatorics.partitions import IntegerPartition
%o A320328 from sympy.utilities.iterables import partitions, multiset_partitions
%o A320328 def square(ms): return len(ms) == len(set(e for s in ms for e in s))
%o A320328 def msp(n): # generator of multiset partitions of integer partitions of n
%o A320328     yield from (m for p in partitions(n) for m in multiset_partitions(IntegerPartition(p).partition))
%o A320328 def a(n): return sum(1 for ms in msp(n) if square(ms))
%o A320328 print([a(n) for n in range(20)]) # _Michael S. Branicky_, Oct 12 2025
%Y A320328 Cf. A000219, A001970, A047968, A050342, A089259, A141268, A261049, A289501, A305551, A316983, A319066, A319312, A319616, A320330, A320331.
%K A320328 nonn,changed
%O A320328 0,3
%A A320328 _Gus Wiseman_, Oct 11 2018
%E A320328 a(13)-a(38) from _Michael S. Branicky_, Oct 12 2025
