%I A389825 #14 Oct 27 2025 21:20:47
%S A389825 2,23,3,13,103,1013,101,11,113,1103,10103,100103,1001003,100003,
%T A389825 1000003,10000103,100001053,10001053,100010353,1000103453,100103453,
%U A389825 10103453,1010353,10101353,1001353,100153,1001153,1153,11353,113153,1013153,10123153,101231353,1010231353
%N A389825 a(1) = 2; for n > 1, a(n) is the smallest unused prime number that can be created by either removing or adding a single digit anywhere in the value of a(n-1).
%C A389825 On removing the leading digit, any subsequent leading zeros are also removed.
%C A389825 The sequence is finite, the final term being a(205696) = 1200000000413309, after which all digit removals or additions to 1200000000413309 lead to composites or primes that already appear in the sequence.
%C A389825 The largest term is a(175658) = 100000000000000000002000005325000035030170417366031.
%C A389825 The list of missing primes begins 5, 29, 53, 59, 83, 89, 223, 227, 229, ... .
%C A389825 See A389824 for the sequence starting at 1.
%H A389825 Scott R. Shannon, <a href="/A389825/b389825.txt">Table of n, a(n) for n = 1..10000</a>
%H A389825 Scott R. Shannon, <a href="/A389825/a389825.zip">Complete list of 205K terms</a>
%e A389825 a(5) = 103 as a(4) = 13, and the primes created from removing a single digit from 13 are 3, which has been used, while the primes created from adding a single digit to 13 are 113, 313, 613, 103, 163, 173, 193, 131, 133, 137, 139. Of those 103 is the smallest and is therefore the next term chosen.
%o A389825 (Python)
%o A389825 from gmpy2 import is_prime
%o A389825 from itertools import islice
%o A389825 def agen(): # generator of terms
%o A389825     an, aset = 2, {2}
%o A389825     while an != -1:
%o A389825         yield an
%o A389825         aset.add(an)
%o A389825         s = str(an)
%o A389825         D = set(p for i in range(len(s)) if len(t:=s[:i]+s[i+1:]) and is_prime(p:=int(t)))
%o A389825         if D and (Dcands:=D-aset):
%o A389825             an = min(D - aset)
%o A389825             continue
%o A389825         A = set(p for i in range(len(s)+1) for d in "0123456789" if is_prime(p:=int(s[:i]+d+s[i:])))
%o A389825         an = min(Acands) if A and (Acands:=A-aset) else -1
%o A389825     print(f"Last term is a({len(aset)}).")
%o A389825 print(list(islice(agen(), 40))) # _Michael S. Branicky_, Oct 19 2025
%Y A389825 Cf. A389824 (start at 1), A000040, A080603, A080608, A068166.
%K A389825 nonn,fini,base,full,new
%O A389825 1,1
%A A389825 _Scott R. Shannon_, Oct 16 2025
