%I A389510 #10 Oct 12 2025 11:13:16
%S A389510 1,1,1,3,5,9,16,29,55,99,179,329,598,1090,1990,3626,6614,12060,21988,
%T A389510 40100,73114,133316,243105,443280,808295,1473885,2687535,4900577,
%U A389510 8935910,16294100,29711374,54176948,98788515,180135154,328465969
%N A389510 Number of integer compositions of n in which runs of 1's all have length <= 1, runs of 2's all have length <= 2, runs of 3's all have length <= 3, etc.
%C A389510 These are compositions whose maximal runs R all satisfy length(R) <= first(R).
%C A389510 No composition with length < 2*(number of 1's) - 1 is counted; pruning partitions that violate that condition is slightly faster. - _Michael S. Branicky_, Oct 12 2025
%e A389510 The composition c = (2,2,1,3,3) has maximal runs ((2,2),(1),(3,3)), all of which have length <= first, so c is counted under a(11).
%e A389510 The a(0) = 1 through a(6) = 16 compositions:
%e A389510   ()  (1)  (2)  (3)    (4)      (5)      (6)
%e A389510                 (1,2)  (1,3)    (1,4)    (1,5)
%e A389510                 (2,1)  (2,2)    (2,3)    (2,4)
%e A389510                        (3,1)    (3,2)    (3,3)
%e A389510                        (1,2,1)  (4,1)    (4,2)
%e A389510                                 (1,2,2)  (5,1)
%e A389510                                 (1,3,1)  (1,2,3)
%e A389510                                 (2,1,2)  (1,3,2)
%e A389510                                 (2,2,1)  (1,4,1)
%e A389510                                          (2,1,3)
%e A389510                                          (2,3,1)
%e A389510                                          (3,1,2)
%e A389510                                          (3,2,1)
%e A389510                                          (1,2,1,2)
%e A389510                                          (1,2,2,1)
%e A389510                                          (2,1,2,1)
%t A389510 Table[Length[Select[Join@@Permutations/@IntegerPartitions[n],And@@Table[Length[k]<=First[k],{k,Split[#]}]&]],{n,0,15}]
%o A389510 (Python)
%o A389510 from itertools import groupby
%o A389510 from sympy.combinatorics.partitions import IntegerPartition
%o A389510 from sympy.utilities.iterables import partitions, multiset_permutations
%o A389510 def compositions(n): yield from (c for p in partitions(n) for c in multiset_permutations(IntegerPartition(p).partition))
%o A389510 def a(n): return sum(1 for c in compositions(n) if all(len(list(g))<=k for k, g in groupby(c)))
%o A389510 print([a(n) for n in range(20)]) # _Michael S. Branicky_, Oct 12 2025
%Y A389510 For partitions instead of compositions we have A052335, ranks A276078.
%Y A389510 For equality we have A301503, ranks A389530.
%Y A389510 For inequality we have A389508, ranks A389531.
%Y A389510 An opposite version is A389509, ranked by A389513.
%Y A389510 A complimentary version is A389511, ranked by A389515.
%Y A389510 A strict version is A389512, ranked by A389516.
%Y A389510 These compositions are ranked by A389514.
%Y A389510 A003242 counts anti-run compositions, ranks A333489.
%Y A389510 A005811 counts runs in binary expansion.
%Y A389510 A011782 counts compositions, standard order A066099.
%Y A389510 A032020 counts strict compositions, ranks A233564.
%Y A389510 A238130 and A333755 count compositions by maximal runs, partitions A365676.
%Y A389510 Cf. A000079, A008965, A070211, A098124, A098504, A124767, A175342, A175413, A276429, A328592, A353860.
%K A389510 nonn,more
%O A389510 0,4
%A A389510 _Gus Wiseman_, Oct 09 2025
%E A389510 a(21)-a(34) from _Michael S. Branicky_, Oct 12 2025
