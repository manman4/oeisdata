%I A122454 #16 Oct 03 2025 02:07:27
%S A122454 1,1,2,1,3,9,1,4,24,18,24,1,5,50,100,100,150,50,1,6,90,225,150,300,
%T A122454 1200,300,300,675,90,1,7,147,441,735,735,3675,2450,3675,1225,7350,
%U A122454 3675,735,2205,147,1,8,224,784,1568,980,1568,9408,15680,11760,15680,3920,29400
%N A122454 Irregular triangle T(n,k) = A098546(n,k) * A036040(n,k), read by rows, 1 <= k <= A000041(n).
%C A122454 Rows have A000041(n) entries, with partitions in Abramowitz and Stegun order (A036036).
%H A122454 Andrew Howroyd, <a href="/A122454/b122454.txt">Table of n, a(n) for n = 0..2713</a> (rows 0..20)
%e A122454 A098546(n) begins 1 2 1 3 3 1 4 6 6 4 1 ...
%e A122454 A036040(n) begins 1 1 1 1 3 1 1 4 3 6 1 ...
%e A122454 So the triangle begins:
%e A122454   0 | 1;
%e A122454   1 | 1;
%e A122454   2 | 2,   1;
%e A122454   3 | 3,   9,   1;
%e A122454   4 | 4,  24,  18,  24,   1;
%e A122454   5 | 5,  50, 100, 100, 150,   50,    1;
%e A122454   6 | 6,  90, 225, 150, 300, 1200,  300,  300,  675,   90,    1;
%e A122454   7 | 7, 147, 441, 735, 735, 3675, 2450, 3675, 1225, 7350, 3675, 735, 2205, 147, 1;
%e A122454   ...
%p A122454 sortAbrSteg := proc(L1,L2) local i ; if nops(L1) < nops(L2) then RETURN(true) ; elif nops(L2) < nops(L1) then RETURN(false) ; else for i from 1 to nops(L1) do if op(i,L1) < op(i,L2) then RETURN(false) ; fi ; od ; RETURN(true) ; fi ; end: A098546 := proc(n,k) local prts,m ; prts := combinat[partition](n) ; prts := sort(prts, sortAbrSteg) ; if k <= nops(prts) then m := nops(op(k,prts)) ; binomial(n,m) ; else 0 ; fi ; end: M3 := proc(L) local n,k,an,resul; n := add(i,i=L) ; resul := factorial(n) ; for k from 1 to n do an := add(1-min(abs(j-k),1),j=L) ; resul := resul/ (factorial(k))^an /factorial(an) ; od ; end: A036040 := proc(n,k) local prts,m ; prts := combinat[partition](n) ; prts := sort(prts, sortAbrSteg) ; if k <= nops(prts) then M3(op(k,prts)) ; else 0 ; fi ; end: A122454 := proc(n,k) A098546(n,k)*A036040(n,k) ; end: for n from 1 to 10 do for k from 1 to combinat[numbpart](n) do a:=A122454(n,k) ; printf("%d, ",a) ; od; od ; # _R. J. Mathar_, Jul 17 2007
%o A122454 (PARI)
%o A122454 C(sig)={my(S=Set(sig)); binomial(vecsum(sig), #sig)*vecsum(sig)!/prod(k=1, #sig, sig[k]!)/prod(k=1, #S, (#select(t->t==S[k], sig))!)}
%o A122454 Row(n)={apply(C, [Vecrev(p) | p<-partitions(n)])}
%o A122454 { for(n=0, 7, print(Row(n))) } \\ _Andrew Howroyd_, Oct 02 2025
%Y A122454 Cf. A000041 (row lengths), A036036, A036040, A098546, A122455 (row sums).
%K A122454 easy,nonn,tabf,changed
%O A122454 0,3
%A A122454 _Alford Arnold_, Sep 18 2006
%E A122454 More terms from _R. J. Mathar_, Jul 17 2007
%E A122454 a(0)=1 prepended by _Andrew Howroyd_, Oct 02 2025
