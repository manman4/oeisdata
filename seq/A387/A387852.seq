%I A387852 #39 Oct 21 2025 13:14:40
%S A387852 103,3,67137547,947,2176839901,80707343,19604693,
%T A387852 6461081889231955423079731,1200000000413309
%N A387852 The final prime number in the base n sequence when starting from 2 and creating the smallest unused prime number, when read in base n, by either removing or adding a single digit, from 0 to n-1, anywhere in the base n value of the previous number. If the base n sequence does not terminate, a(n) = -1.
%C A387852 See b-file for other known terms (too large for the data section).
%C A387852 The a(11) final value is noteworthy in that the base 11 sequence only contains 659 terms before reaching this value, the length of which contains 111 base 11 digits. From this value 1342 possible candidate numbers can be created for the next term, but remarkably only one of these is prime - the previously used term.
%C A387852 See A389926 for the length of each sequence in base n.
%C A387852 It is conjectured that the sequence of primes in base n terminates for all n.
%H A387852 Scott R. Shannon, <a href="/A387852/b387852.txt">Table of n, a(n) for n = 2..13</a>
%e A387852 a(2) = 103. See A389925.
%e A387852 a(10) = 1200000000413309. See A389825.
%e A387852 a(3) = 3 as in base 3 the entire sequence is: 2 = 2_3, 5 = 12_3, 11 = 102_3, 3 = 10_3, and 3 = 10_3 is the final term as no primes can be created from removing a digit from 10_3, while the only prime that can be created from adding a 0, 1 or 2 digit is 11 = 102_3, but that has already been used.
%o A387852 (Python)
%o A387852 from gmpy2 import digits, is_prime, mpz
%o A387852 def a(n):
%o A387852     base, prevan = n, None
%o A387852     an, aset, digset = 2, {2}, "".join(digits(i, base) for i in range(base))
%o A387852     while an != -1:
%o A387852         aset.add(an)
%o A387852         prevan = an
%o A387852         s = digits(an, base)
%o A387852         D = set(p for i in range(len(s)) if len(t:=s[:i]+s[i+1:]) and is_prime(p:=mpz(t, base)))
%o A387852         if D and (Dcands:=D-aset):
%o A387852             an = min(D - aset)
%o A387852             continue
%o A387852         A = set(p for i in range(len(s)+1) for d in digset if is_prime(p:=mpz(s[:i]+d+s[i:], base)))
%o A387852         an = min(Acands) if A and (Acands:=A-aset) else -1
%o A387852     return int(prevan)
%o A387852 print([a(n) for n in range(2, 10)]) # _Michael S. Branicky_, Oct 21 2025
%Y A387852 Cf. A389825 (base 10), A389925 (base 2), A389926 (total length), A389824, A000040, A080603, A080608, A068166.
%K A387852 nonn,base,new
%O A387852 2,1
%A A387852 _Scott R. Shannon_, Oct 19 2025
