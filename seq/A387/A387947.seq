%I A387947 #17 Oct 12 2025 19:29:41
%S A387947 0,0,1,0,1,1,1,1,0,1,1,3,1,2,1,4,1,2,1,6,2,3,1,5,0,2,1,7,1,5,1,18,2,4,
%T A387947 2,9,1,3,3,8,1,6,1,9,4,5,1,19,1,5,3,12,1,8,2,9,3,6,1,18,1,5,6,32,3,6,
%U A387947 1,15,2,11,1,18,1,5,7,15,3,8,1,31,8,8,1,26,5,4,2,16,1,19,5,15,4,7,4,45,1,8,10,24
%N A387947 Number of prime pairs {p, q} with n >= p > q such that (p-1)^2 == (q-1)^2 (mod n).
%C A387947 Conjecture: a(n) > 0 except for n = 1, 2, 4, 9, 25.
%C A387947 If n is an odd prime dividing (p-1)^2 - (q-1)^2 = (p-q)*(p+q-2) with p <= n and q < p primes, then n divides p+q-2 < 2*n and hence n = p+q-2, as n is odd we must have p = n and q = 2. Therefore a(n) = 1 for any odd prime n.
%C A387947 If n is a positive even number and n + 2 = p + q for some distinct primes p and q, then n divides (p-q)*(p+q-2) = (p-1)^2 - (q-1)^2, and hence a(n) > 0.
%C A387947 The conjecture has the following equivalent version: For any integer n > 2 different from 4 and 9, prime(n+1) is the least positive integer m such that the n numbers (prime(k)-1)^2 (k = 1..n) are pairwise incongruent modulo m. This mysterious recurrence for primes has been verified for n <= 55000.
%H A387947 Zhi-Wei Sun, <a href="/A387947/b387947.txt">Table of n, a(n) for n = 1..10000</a>
%H A387947 Zhi-Wei Sun, <a href="https://doi.org/10.1016/j.jnt.2013.02.003">On functions taking only prime values</a>, J. Number Theory 133 (2013), no. 8, 2794-2812.
%e A387947 a(10) = 1 with (7-1)^2 - (5-1)^2 = 20 == 0 (mod 10), where 7 and 5 are primes.
%e A387947 a(27) = 1 with (13-1)^2 - (7-1)^2 = 108 == 0 (mod 27), where 13 and 7 are primes.
%e A387947 a(49) = 1 with (43-1)^2 - (29-1)^2 = 980 == 0 (mod 49), where 43 and 29 are primes.
%t A387947 f[n_]:=f[n]=(Prime[n]-1)^2;
%t A387947 tab={};Do[r=0;m=PrimePi[n];Do[If[Mod[f[k]-f[j],n]==0,r=r+1],{k,2,m},{j,1,k-1}];tab=Append[tab,r],{n,1,100}];Print[tab]
%Y A387947 Cf. A000040, A000290, A006093, A181901.
%K A387947 nonn
%O A387947 1,12
%A A387947 _Zhi-Wei Sun_, Oct 12 2025
