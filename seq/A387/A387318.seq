%I A387318 #39 Sep 17 2025 22:12:28
%S A387318 0,1,2,3,5,6,8,9,11,12,13,15,16,17,19
%N A387318 a(n) is the maximum number of water-pouring moves needed to reach (1, 1, ..., 1) from any valid initial configuration for n bottles.
%C A387318 Configuration P = (b(1), ..., b(n)) is valid if 0 <= b(i) <= i for 1 <= i <= n and Sum_{i=1..n} b(i) = n.
%C A387318 The identity configuration is I = (1, 1, ..., 1).
%C A387318 A move consists of choosing two bottles i, j and pouring k = min{b(i), j-b(j)} units from i to j.
%C A387318 a(n) is the maximum, over all valid initial configurations P, of the minimum number of moves required to reach I.
%H A387318 Yifan Xie, <a href="/A387318/a387318.txt">Proof of the formula</a>
%F A387318 a(n) <= (4*n - 2)/3.
%e A387318 For n = 3 and the initial configuration P = (1, 2, 0), the minimum number of moves required to reach I = (1, 1, 1) is 2:
%e A387318 Move 1: Operate on (1, 3). min{b(1), 3 - b(3)} = 1. b(1) is decreased by 1, becoming 0; b(3) is increased by 1, becoming 1. The configuration becomes (0, 2, 1).
%e A387318 Move 2: Operate on (2, 1). min{b(2), 1 - b(1)} = 1. b(2) is decreased by 1, becoming 1; b(1) is increased by 1, becoming 1. The configuration becomes (1, 1, 1).
%Y A387318 Cf. A000707 (number of valid states).
%K A387318 nonn,more
%O A387318 1,3
%A A387318 _Yifan Xie_, Aug 26 2025
%E A387318 a(15) from _Sean A. Irvine_, Sep 17 2025
