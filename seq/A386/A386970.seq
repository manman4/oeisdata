%I A386970 #11 Aug 15 2025 00:21:47
%S A386970 6,8,66,72,954,196,208,3008,6064,304,69258,246400,400,29404,1366554,
%T A386970 496,9463764,10930388,592,30519840,70930202,688,61628268,477526912,
%U A386970 784,363496056,16882639776,880,95016238440,116172994252,976,89001498224,801163066354,1072,170823484392
%N A386970 Period of Langton's ant on an n X 3 torus.
%C A386970 Number of steps it takes for Langton's ant to return to the same position, facing the same direction, with the torus in its original uniform state (all cells white or black). The ant starts facing vertically along the fixed-size (height = 3) axis.
%H A386970 Carlos Moya Garcia, <a href="/A386970/b386970.txt">Table of n, a(n) for n = 1..41</a>
%F A386970 Conjecture: for n>=2, a(3*n+1) = 96*n+16.
%o A386970 (C) long long period(int m, int n) { // n = 3
%o A386970 long long *map = calloc(n, sizeof(long long));
%o A386970   int x = 0, y = 0, dir = 0;
%o A386970   long long steps = 0, nonzerorows = 0;
%o A386970   do {
%o A386970     if(!(map[y]&(1L<<x))) dir ^= 1; // horizontal movement
%o A386970     map[y] ^= (1L<<x);
%o A386970     x += dir ? m-1:1;
%o A386970     if(x >= m) x-=m;
%o A386970     if(map[y]&(1L<<x)) dir ^= 1; // vertical movement
%o A386970     map[y] ^= (1L<<x);
%o A386970     nonzerorows = (nonzerorows & ~(1L << y)) | (((long long)(map[y] != 0)) << y);
%o A386970     y += dir ? 1:n-1;
%o A386970     if(y >= n) y-=n;
%o A386970     steps+=2;
%o A386970   } while(nonzerorows);
%o A386970   return steps*order(y,n); // Additive order of y (mod n) = n/gcd(y,n)
%o A386970 }
%Y A386970 Cf. A309251 (n X n torus).
%K A386970 nonn,hard
%O A386970 1,1
%A A386970 _Carlos Moya Garcia_, Aug 11 2025
