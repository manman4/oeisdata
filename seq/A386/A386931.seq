%I A386931 #64 Oct 06 2025 20:45:13
%S A386931 1,3,3,0,5,9,7,6,9,15,11,0,13,21,15,0,17,15,19,0,21,33,23,18,20,39,27,
%T A386931 0,29,45,31,28,33,51,35,0,37,57,39,30,41,63,43,0,45,69,47,0,35,45,51,
%U A386931 0,53,45,55,42,57,87,59,0,61,93,63,0,65,99,67,0,69,105
%N A386931 a(n) is the smallest positive integer k such that k^2 is equal to the sum of n consecutive positive integers, or 0 if no such k exists.
%C A386931 a(n) is the least positive number k such that k^2 == (n^2-n)/2 (mod n) with k^2 > (n^2-n)/2, if such a number exists. - _Robert Israel_, Oct 06 2025
%H A386931 Robert Israel, <a href="/A386931/b386931.txt">Table of n, a(n) for n = 1..10000</a>
%F A386931 a(n) = sqrt(A076115(n)).
%e A386931 a(2) = 3 because 3^2 = 9 = 4 + 5.
%e A386931 a(8) = 6 because 6^2 = 36 = 1 + 2 + 3 + 4 + 5 + 6 + 7 + 8.
%e A386931 a(4) = 0 because no square can be expressed as the sum of 4 consecutive positive integers.
%p A386931 f:= proc(n) local k,v,w; v,w:=selectremove(r -> 2*r^2 - n^2 + n > 0, (map(t -> rhs(op(t)), [msolve(k^2 = n*(n-1)/2,n)])));
%p A386931  if v <> [] then return min(v) fi;
%p A386931  if w <> [] then return min(w)+n fi;
%p A386931 0
%p A386931 end proc:
%p A386931 f(1):= 1:
%p A386931 map(f, [$1..100]); # _Robert Israel_, Oct 06 2025
%o A386931 (PARI) a(n) = if (!(n%4) && ((n/4^valuation(n, 4)) % 2), 0, my(o=n*(n+1)/2, k=0); while(!issquare(o+n*k), k++); sqrtint(o+n*k)); \\ _Michel Marcus_, Sep 09 2025
%o A386931 (Python)
%o A386931 from itertools import count
%o A386931 from sympy import integer_nthroot
%o A386931 def A386931(n): return next(m[0] for a in count(1) if (m:=integer_nthroot(n*(n+(a<<1)-1)>>1,2))[1]) if n&1 or (~n & n-1).bit_length()&1 else 0 # _Chai Wah Wu_, Sep 16 2025
%Y A386931 Cf. A076114, A076115.
%K A386931 nonn
%O A386931 1,2
%A A386931 _Jean-Jacques Vaudroz_, Sep 06 2025
